<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chat-UI</title>
<link rel="icon" type="image/png" href="Favicon1 (1).png">
<style>
:root{
--bg: #0f1115;
--panel: #151821;
--muted: #9aa4b2;
--text: #e6eaf2;
--accent: #10a37f;
--user: #2a2f3a;
--assistant: #1b1f2a;
--border: #222836;
--shadow: 0 8px 24px rgba(0,0,0,.35);
--radius: 16px;
--radius-sm: 12px;
--maxw: 900px;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body{
margin:0; background: var(--bg); color: var(--text);
font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
}
.app{
min-height: 100dvh; display:flex; flex-direction:column; gap:0;
}
.header{
position: sticky; top:0; z-index:10;
display:flex; align-items:center; justify-content:space-between;
padding: 12px 16px; border-bottom:1px solid var(--border);
background: linear-gradient(180deg, rgba(21,24,33,.9), rgba(21,24,33,.75));
backdrop-filter: blur(8px);
}
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; }
.dot{ width:10px; height:10px; border-radius:50%; background: var(--accent); box-shadow:0 0 12px var(--accent); }
.toolbar{ display:flex; gap:8px; align-items:center; }
.btn{
border:1px solid var(--border); background:transparent; color:var(--text);
padding:8px 12px; border-radius:10px; cursor:pointer;
}
.btn:hover{ border-color:#2f374a; }
.container{
width:100%; max-width: var(--maxw); margin: 0 auto; padding: 12px;
flex:1; display:flex; flex-direction:column;
}
.chat{
flex:1; overflow:auto; padding: 12px; display:flex; flex-direction:column; gap:14px;
scroll-behavior:smooth;
}
.row{ display:flex; gap:10px; align-items:flex-start; }
.row.user{ justify-content:flex-end; }
.avatar{
width:34px; height:34px; flex:0 0 34px; border-radius:50%;
display:grid; place-items:center; font-size:14px; font-weight:700;
background:#0e131b; border:1px solid var(--border);
}
.row.user .avatar{ background:#0e1715; color:#9fe3cd; border-color:#1c2b26; }
.bubble{
max-width: min(80%, 680px);
padding: 10px 14px; border-radius: var(--radius-sm);
border:1px solid var(--border); box-shadow: var(--shadow);
white-space: pre-wrap; word-wrap: break-word;
}
.assistant .bubble{ background: var(--assistant); }
.user .bubble{ background: var(--user); }
.meta{
font-size:12px; color: var(--muted); margin-top: 2px;
}
.composer-wrap{
position: sticky; bottom:0; background:
linear-gradient(0deg, rgba(15,17,21,1) 40%, rgba(15,17,21,.7));
padding: 12px; border-top:1px solid var(--border);
}
.composer{
max-width: var(--maxw); margin: 0 auto; display:flex; gap:8px; align-items:flex-end;
}
textarea{
flex:1; resize:none; max-height: 200px; min-height: 48px;
padding: 12px 14px; border-radius: var(--radius);
background: var(--panel); color: var(--text);
border:1px solid var(--border); outline:none;
}
textarea::placeholder{ color:#7b8495; }
.send{
padding: 12px 16px; border:none; border-radius: 14px; cursor:pointer;
background: var(--accent); color: #09261f; font-weight:700;
}
.send:disabled{ opacity:.5; cursor:not-allowed; }
.typing{
display:inline-flex; gap:6px; align-items:center;
color: var(--muted); font-size:14px; margin-left: 44px;
}
.typing .dot3{ width:6px; height:6px; border-radius:50%; background: currentColor; opacity:.5; animation: blink 1.2s infinite; }
.typing .dot3:nth-child(2){ animation-delay: .2s; }
.typing .dot3:nth-child(3){ animation-delay: .4s; }
@keyframes blink{ 0%, 80%, 100%{ opacity:.2 } 40%{ opacity:1 } }

/* Light mode (toggle with data-theme="light" on body) */
body[data-theme="light"]{
--bg: #f8fafc; --panel:#ffffff; --text:#0b1220; --muted:#5b6473;
--assistant:#f3f5f7; --user:#edf1f5; --border:#e2e8f0; --shadow: 0 8px 24px rgba(0,0,0,.08);
}
.hint{ font-size:12px; color:var(--muted); margin-top:6px; text-align:center; }
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
</style>
</head>
<body>
<div class="app" id="app">
<header class="header">
<div class="brand"><span class="dot" aria-hidden="true"></span> Chat UI</div>
<div class="toolbar">
<button class="btn" id="themeToggle" title="Toggle theme">üåó Theme</button>
<button class="btn" id="clearChat" title="Clear chat">üßπ Clear</button>
</div>
</header>

<main class="container">
<section id="chat" class="chat" aria-live="polite" aria-label="Conversation">
<!-- Messages will render here -->
<div class="row assistant">
<div class="avatar" aria-hidden="true">AI</div>
<div>
<div class="bubble">Hey! I‚Äôm your AI. Ask me anything üëã</div>
<div class="meta">Assistant ¬∑ just now</div>
</div>
</div>
</section>

<div class="composer-wrap">
<form class="composer" id="composer" autocomplete="off">
<label for="input" class="sr-only">Message</label>
<textarea id="input" placeholder="Type a message‚Ä¶ (Enter to send, Shift+Enter for new line)"></textarea>
<button class="send" id="sendBtn" type="submit" disabled>Send</button>
</form>
<div class="hint">Tip: Press <b>Shift+Enter</b> for a new line</div>
</div>
</main>
</div>

<script>
const chat = document.getElementById('chat');
const form = document.getElementById('composer');
const input = document.getElementById('input');
const sendBtn = document.getElementById('sendBtn');
const clearBtn = document.getElementById('clearChat');
const themeToggle = document.getElementById('themeToggle');

// Enable/disable send button based on input
input.addEventListener('input', () => {
sendBtn.disabled = !input.value.trim();
autoGrow(input);
});

// Enter to send, Shift+Enter for newline
input.addEventListener('keydown', (e) => {
if (e.key === 'Enter' && !e.shiftKey) {
e.preventDefault();
if (!sendBtn.disabled) form.requestSubmit();
}
});

// Theme toggle
themeToggle.addEventListener('click', () => {
const light = document.body.getAttribute('data-theme') === 'light';
document.body.setAttribute('data-theme', light ? 'dark' : 'light');
if (!light) document.body.setAttribute('data-theme', 'light');
else document.body.removeAttribute('data-theme');
});

// Clear chat
clearBtn.addEventListener('click', () => {
chat.innerHTML = `
<div class="row assistant">
<div class="avatar" aria-hidden="true">AI</div>
<div>
<div class="bubble">Chat cleared. How can I help?</div>
<div class="meta">Assistant ¬∑ just now</div>
</div>
</div>`;
input.value = '';
sendBtn.disabled = true;
input.focus();
});

form.addEventListener('submit', async (e) => {
e.preventDefault();
const text = input.value.trim();
if (!text) return;

addMessage('user', text);
input.value = '';
sendBtn.disabled = true;
input.style.height = '48px';

const typing = showTyping();
// Simulate server call; replace with your API (see sendToServer)
try {
const reply = await sendToServer(text);
hideTyping(typing);
// For a streaming feel:
await streamIntoBubble(addMessage('assistant', ''), reply);
} catch (err) {
hideTyping(typing);
addMessage('assistant', "‚ö†Ô∏è There was an error. Please try again.");
console.error(err);
}
});


function addMessage(role, text){
const row = document.createElement('div');
row.className = `row ${role}`;
row.innerHTML = `
${role === 'assistant'
? `<div class="avatar" aria-hidden="true">AI</div>`
: `<div style="flex:1"></div>`}
<div>
<div class="bubble">${escapeHtml(text)}</div>
<div class="meta">${role === 'assistant' ? 'Assistant' : 'You'} ¬∑ ${timeNow()}</div>
</div>
${role === 'user'
? `<div class="avatar" aria-hidden="true">U</div>`
: `<div style="flex:1"></div>`}
`;
chat.appendChild(row);
chat.scrollTop = chat.scrollHeight;
return row.querySelector('.bubble');
}

function showTyping(){
const wrap = document.createElement('div');
wrap.className = 'typing';
wrap.setAttribute('aria-live', 'polite');
wrap.innerHTML = `<span>Assistant is typing</span> <span class="dot3"></span><span class="dot3"></span><span class="dot3"></span>`;
const holder = document.createElement('div');
holder.style.marginLeft = '44px';
holder.appendChild(wrap);
chat.appendChild(holder);
chat.scrollTop = chat.scrollHeight;
return holder;
}
function hideTyping(node){ if (node && node.parentNode) node.parentNode.removeChild(node); }

// Fake server: replace with your backend call
async function sendToServer(userText){
// TODO: Replace with fetch to your API endpoint.
// Example:
// const res = await fetch('/api/chat', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ message: userText })});
// const data = await res.json(); return data.reply;
await sleep(600); 

return "You said: " + userText + "\n\n_(Replace this with your model‚Äôs response.)_";
}


async function streamIntoBubble(bubble, fullText){
const parts = chunkString(fullText, 4);
for (const part of parts){
bubble.textContent += part;
chat.scrollTop = chat.scrollHeight;
await sleep(20);
}
}


function escapeHtml(str){
return str.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
}
function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }
function chunkString(s, n){ const out=[]; for(let i=0;i<s.length;i+=n) out.push(s.slice(i,i+n)); return out; }
function timeNow(){
const d = new Date();
return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}
function autoGrow(el){
el.style.height = 'auto';
el.style.height = Math.min(el.scrollHeight, 200) + 'px';
}
</script>
</body>
</html>
